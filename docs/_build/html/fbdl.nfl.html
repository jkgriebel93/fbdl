<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>fbdl.nfl module &#8212; fbdl  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=5ecbeea2" />
    <link rel="stylesheet" type="text/css" href="_static/basic.css?v=b08954a9" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=27fed22d" />
    <script src="_static/documentation_options.js?v=5929fcd5"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="module-fbdl.nfl">
<span id="fbdl-nfl-module"></span><h1>fbdl.nfl module<a class="headerlink" href="#module-fbdl.nfl" title="Link to this heading">¶</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="fbdl.nfl.MetaDataCreator">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fbdl.nfl.</span></span><span class="sig-name descname"><span class="pre">MetaDataCreator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">game_dates</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fbdl/nfl.html#MetaDataCreator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fbdl.nfl.MetaDataCreator" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Create and store metadata based on information stored in file name.
Used for replays downloaded before NFLWeeklyDownloader was implemented.</p>
<dl class="py method">
<dt class="sig sig-object py" id="fbdl.nfl.MetaDataCreator.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">game_dates</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/fbdl/nfl.html#MetaDataCreator.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fbdl.nfl.MetaDataCreator.__init__" title="Link to this definition">¶</a></dt>
<dd><p>Initialize the utility, set basic config.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>base_dir</strong> (<em>str</em><em> | </em><em>Path</em>) – The directory containing the videos to generate metadata for.</p></li>
<li><p><strong>game_dates</strong> (<em>Dict</em>) – A dict mapping seasons to a dict of week numbers -&gt; date the game was played on.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fbdl.nfl.MetaDataCreator._create_title_string">
<span class="sig-name descname"><span class="pre">_create_title_string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_stem</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/fbdl/nfl.html#MetaDataCreator._create_title_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fbdl.nfl.MetaDataCreator._create_title_string" title="Link to this definition">¶</a></dt>
<dd><p>Given the file name, create the title that should be displayed in viewing clients.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>file_stem</strong> (<em>str</em>) – The file’s base name.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The name to be stored in metadata.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fbdl.nfl.MetaDataCreator.create_nfo_for_season">
<span class="sig-name descname"><span class="pre">create_nfo_for_season</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">year</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/fbdl/nfl.html#MetaDataCreator.create_nfo_for_season"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fbdl.nfl.MetaDataCreator.create_nfo_for_season" title="Link to this definition">¶</a></dt>
<dd><p>Create metadata files for all games in the provided year</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>year</strong> (<em>int</em>) – The year to create metadata for.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fbdl.nfl.MetaDataCreator.rename_files_for_season">
<span class="sig-name descname"><span class="pre">rename_files_for_season</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">year</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/fbdl/nfl.html#MetaDataCreator.rename_files_for_season"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fbdl.nfl.MetaDataCreator.rename_files_for_season" title="Link to this definition">¶</a></dt>
<dd><p>Add the necessary prefix to file names so that Jellyfin will parse
the game replays as TV seasons.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>year</strong> (<em>int</em>) – The season to rename video files for.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="fbdl.nfl.NFLShowDownloader">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fbdl.nfl.</span></span><span class="sig-name descname"><span class="pre">NFLShowDownloader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">episode_list_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cookie_file_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pause_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">30</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fbdl/nfl.html#NFLShowDownloader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fbdl.nfl.NFLShowDownloader" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A wrapper around YoutubeDL that specializes in downloading TV Series available on NFL Plus.
TODO: This class requires a lot of work to leverage yt-dlp fully.</p>
<p>ivar base_url: str - The base URL the NFL uses for its TV episodes</p>
<dl class="py method">
<dt class="sig sig-object py" id="fbdl.nfl.NFLShowDownloader.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">episode_list_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cookie_file_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pause_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">30</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/fbdl/nfl.html#NFLShowDownloader.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fbdl.nfl.NFLShowDownloader.__init__" title="Link to this definition">¶</a></dt>
<dd><p>Create the NFLShowDownloader with the given arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>episode_list_path</strong> (<em>str</em><em> | </em><em>Path</em>) – The JSON file containing an array of arrays,
each containing URL leaves for the season’s episodes.</p></li>
<li><p><strong>cookie_file_path</strong> (<em>str</em><em> | </em><em>Path</em>) – The Netscape format cookies file to use for authentication.</p></li>
<li><p><strong>show_dir</strong> (<em>str</em><em> | </em><em>Path</em>) – The directory to store the show’s seasons and episodes in.</p></li>
<li><p><strong>pause_time</strong> – Number of seconds to sleep the program between season downloads
to avoid being banned or throttled.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fbdl.nfl.NFLShowDownloader.download_episodes">
<span class="sig-name descname"><span class="pre">download_episodes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/fbdl/nfl.html#NFLShowDownloader.download_episodes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fbdl.nfl.NFLShowDownloader.download_episodes" title="Link to this definition">¶</a></dt>
<dd><p>Donwload the show episodes as specified in __init__
:return:</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="fbdl.nfl.NFLWeeklyDownloader">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fbdl.nfl.</span></span><span class="sig-name descname"><span class="pre">NFLWeeklyDownloader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cookie_file_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_yt_opts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fbdl/nfl.html#NFLWeeklyDownloader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fbdl.nfl.NFLWeeklyDownloader" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="fbdl.base.html#fbdl.base.BaseDownloader" title="fbdl.base.BaseDownloader"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseDownloader</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">NFLBaseIE</span></code></p>
<p>A YoutubeDL wrapper that leverages the NFL tools included with yt-dlp.
The class (especially authentication + authorization) is a bit messy
due to its custom nature. This can certainly be cleaned up.</p>
<p>ivar _api_base_url: str - The base URL of the NFL’s data API, i.e. not its auth API
ivar _replay_base_url: str - The base URL of game replays.</p>
<dl class="py method">
<dt class="sig sig-object py" id="fbdl.nfl.NFLWeeklyDownloader.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cookie_file_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_yt_opts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/fbdl/nfl.html#NFLWeeklyDownloader.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fbdl.nfl.NFLWeeklyDownloader.__init__" title="Link to this definition">¶</a></dt>
<dd><p>Create the downloader; set its download and storage parameters</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cookie_file_path</strong> (<em>str</em><em> | </em><em>Path</em>) – The Netscape format cookies file used for auth.</p></li>
<li><p><strong>destination_dir</strong> (<em>str</em><em> | </em><em>Path</em>) – The directory to store the replays in.
This needs some tweaking in order to properly handle different replay types.</p></li>
<li><p><strong>add_yt_opts</strong> (<em>Dict</em><em> | </em><em>None</em>) – Any yt-dlp options that should override the base options,
and apply to all download invocations by this object.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fbdl.nfl.NFLWeeklyDownloader._construct_replay_url">
<span class="sig-name descname"><span class="pre">_construct_replay_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">game</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replay_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/fbdl/nfl.html#NFLWeeklyDownloader._construct_replay_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fbdl.nfl.NFLWeeklyDownloader._construct_replay_url" title="Link to this definition">¶</a></dt>
<dd><p>Simple helper method to construct the URL yt-dlp should use to extract the video file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>game</strong> (<em>Dict</em>) – Data for the game we’re working on.</p></li>
<li><p><strong>replay_type</strong> (<em>str</em>) – The type of replay we want to download/</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The full URL of the game replay.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fbdl.nfl.NFLWeeklyDownloader._fbdl_get_account_info">
<span class="sig-name descname"><span class="pre">_fbdl_get_account_info</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/fbdl/nfl.html#NFLWeeklyDownloader._fbdl_get_account_info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fbdl.nfl.NFLWeeklyDownloader._fbdl_get_account_info" title="Link to this definition">¶</a></dt>
<dd><p>A custom method to get and store account info. The _fbdl prefix of the method name is necessary because
the naming collision results in the parent class’ version being called, and it fails.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fbdl.nfl.NFLWeeklyDownloader._fbdl_get_auth_token">
<span class="sig-name descname"><span class="pre">_fbdl_get_auth_token</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/fbdl/nfl.html#NFLWeeklyDownloader._fbdl_get_auth_token"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fbdl.nfl.NFLWeeklyDownloader._fbdl_get_auth_token" title="Link to this definition">¶</a></dt>
<dd><p>A custom method to get an auth token. The _fbdl prefix of the method name is necessary because
the naming collision results in the parent class’ version being called, and it fails.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="fbdl.nfl.NFLWeeklyDownloader._headers">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">_headers</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#fbdl.nfl.NFLWeeklyDownloader._headers" title="Link to this definition">¶</a></dt>
<dd><p>Headers to be used in HTTP requests.
:return:</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fbdl.nfl.NFLWeeklyDownloader._initialize_cookies">
<span class="sig-name descname"><span class="pre">_initialize_cookies</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">browser</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'firefox'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="reference internal" href="_modules/fbdl/nfl.html#NFLWeeklyDownloader._initialize_cookies"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fbdl.nfl.NFLWeeklyDownloader._initialize_cookies" title="Link to this definition">¶</a></dt>
<dd><p>Setup the relevant cookies based on the provided browser.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>browser</strong> (<em>str</em>) – Only implementing firefox for now.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fbdl.nfl.NFLWeeklyDownloader.construct_file_name">
<span class="sig-name descname"><span class="pre">construct_file_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">game</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replay_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ep_num</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/fbdl/nfl.html#NFLWeeklyDownloader.construct_file_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fbdl.nfl.NFLWeeklyDownloader.construct_file_name" title="Link to this definition">¶</a></dt>
<dd><p>Create the video file’s name according to the established format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>game</strong> (<em>Dict</em>) – Data for the game we’re working on.</p></li>
<li><p><strong>replay_type</strong> (<em>str</em>) – The replay type we’re currently storing.</p></li>
<li><p><strong>ep_num</strong> (<em>int</em>) – The position of this game in the sequence of all NFL games played in the season.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The stem to be used in the video file’s name.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fbdl.nfl.NFLWeeklyDownloader.construct_metadata_for_game">
<span class="sig-name descname"><span class="pre">construct_metadata_for_game</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">game</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replay_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ep_num</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/fbdl/nfl.html#NFLWeeklyDownloader.construct_metadata_for_game"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fbdl.nfl.NFLWeeklyDownloader.construct_metadata_for_game" title="Link to this definition">¶</a></dt>
<dd><p>Given information about the game, construct the XML string that
will be stored in the related nfo file for Plex/Jellyfin parsing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>game</strong> (<em>Dict</em>) – The game’s information.</p></li>
<li><p><strong>replay_type</strong> (<em>str</em>) – Which replay type we’re creating the metadata for.</p></li>
<li><p><strong>ep_num</strong> – The ‘episode number’ to assign to the replay. In practice this ends up being
the game’s placement amongst all games played in the entire season.
e.g. The 87th game played in the NFL season will be 87.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A string containing XML information that defines the metadata Jellyfin wants.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fbdl.nfl.NFLWeeklyDownloader.download_all_for_week">
<span class="sig-name descname"><span class="pre">download_all_for_week</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">season</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">week</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replay_types</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sleep_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">15</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/fbdl/nfl.html#NFLWeeklyDownloader.download_all_for_week"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fbdl.nfl.NFLWeeklyDownloader.download_all_for_week" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Combine the tasks of</dt><dd><p>1.) Fetching the list of games,
2.) Extracting their information, and
3.) Downloading the replays</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>season</strong> (<em>int</em>) – The season we’re downloading games for.</p></li>
<li><p><strong>week</strong> (<em>int</em>) – The week we’re downloading games for.</p></li>
<li><p><strong>replay_types</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – The list of replay types we want to download.</p></li>
<li><p><strong>sleep_time</strong> (<em>int</em>) – The number of seconds to wait between downloads.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fbdl.nfl.NFLWeeklyDownloader.download_game">
<span class="sig-name descname"><span class="pre">download_game</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">game</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ep_num</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/fbdl/nfl.html#NFLWeeklyDownloader.download_game"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fbdl.nfl.NFLWeeklyDownloader.download_game" title="Link to this definition">¶</a></dt>
<dd><p>Download all the replay types we specified for this game.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>game</strong> (<em>Dict</em>) – Data for the game we’re downloading.</p></li>
<li><p><strong>ep_num</strong> (<em>int</em>) – The position of this game in the sequence of all NFL games played in the season.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fbdl.nfl.NFLWeeklyDownloader.extract_game_info">
<span class="sig-name descname"><span class="pre">extract_game_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">game</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replay_types</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span></span></span><a class="reference internal" href="_modules/fbdl/nfl.html#NFLWeeklyDownloader.extract_game_info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fbdl.nfl.NFLWeeklyDownloader.extract_game_info" title="Link to this definition">¶</a></dt>
<dd><p>Extract only the information relevant to downloading and storing the replays properly.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>game</strong> (<em>Dict</em>) – A dict containing all the information about a given game returned by the NFL’s API</p></li>
<li><p><strong>replay_types</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – Which replay type(s) to grab the necessary information for.
Must be one of ‘full’, ‘condensed’, or ‘all_22’.
(Currently I actually use the pretty string because it’s a bit easier in some ways).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dict containing only the relevant information.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fbdl.nfl.NFLWeeklyDownloader.get_and_extract_games_for_week">
<span class="sig-name descname"><span class="pre">get_and_extract_games_for_week</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">season</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">week</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replay_types</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/fbdl/nfl.html#NFLWeeklyDownloader.get_and_extract_games_for_week"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fbdl.nfl.NFLWeeklyDownloader.get_and_extract_games_for_week" title="Link to this definition">¶</a></dt>
<dd><p>Combine the tasks of 1.) Fetching the list of games, 2.) Extracting the info we care about.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>season</strong> (<em>int</em>) – The season we’re downloading replays for.</p></li>
<li><p><strong>week</strong> (<em>int</em>) – The week number we’re downloading replays for.</p></li>
<li><p><strong>replay_types</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – A list of the replay types we want to download.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of dict objects containing only the information we need in order to download replays.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[Dict]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fbdl.nfl.NFLWeeklyDownloader.get_games_for_week">
<span class="sig-name descname"><span class="pre">get_games_for_week</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">season</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">week</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">season_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'REG'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span></span></span><a class="reference internal" href="_modules/fbdl/nfl.html#NFLWeeklyDownloader.get_games_for_week"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fbdl.nfl.NFLWeeklyDownloader.get_games_for_week" title="Link to this definition">¶</a></dt>
<dd><p>Get the list of games played during the given season and week.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>season</strong> (<em>int</em>) – The season we’re fetching games for.</p></li>
<li><p><strong>week</strong> (<em>int</em>) – The week number to fetch games for.</p></li>
<li><p><strong>season_type</strong> – Currently only ‘REG’ is implemented.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The response JSON from the NFL’s API</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fbdl.nfl.NFLWeeklyDownloader.write_metadata_file">
<span class="sig-name descname"><span class="pre">write_metadata_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">game</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replay_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ep_num</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/fbdl/nfl.html#NFLWeeklyDownloader.write_metadata_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fbdl.nfl.NFLWeeklyDownloader.write_metadata_file" title="Link to this definition">¶</a></dt>
<dd><p>Construct metadata for the given game and store it in an nfo file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>game</strong> (<em>Dict</em>) – The game to create metadata for.</p></li>
<li><p><strong>replay_type</strong> (<em>str</em>) – The replay type of the video we’re creating metadata for.</p></li>
<li><p><strong>ep_num</strong> (<em>int</em>) – The position of this game in the sequence of all NFL games played in the season</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">fbdl</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2025, John Griebel.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.2.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="_sources/fbdl.nfl.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>